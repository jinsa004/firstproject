<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="site.metacoding.firstproject.domain.resume.ResumeDao">

    <insert id="insert"></insert>

    <select id="findAllResume" resultType="site.metacoding.firstproject.domain.resume.Resume">
        SELECT r.resume_name, e.employee_name, j.job_name, r.created_at
        FROM resume r
        JOIN employee e
        ON r.employee_id=e.employee_id
        JOIN job j
        ON r.job_id=j.job_id
        ORDER BY r.created_at DESC
    </select>

    <select id="findByJobToResume" resultType="site.metacoding.firstproject.domain.resume.Resume">
    SELECT r.resume_name, e.employee_name, j.job_name, r.created_at
    FROM resume r
    JOIN employee e
    ON r.employee_id=e.employee_id
    JOIN job j
    ON r.job_id=j.job_id
    WHERE j.job_code = #{jobCode}
    ORDER BY r.created_at DESC
    </select>

    <select id="findById" resultType="site.metacoding.firstproject.domain.resume.Resume"></select>

    <update id="update"></update>

    <delete id="deleteById"></delete>


</mapper>